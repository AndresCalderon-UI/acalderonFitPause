<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="acalderonFitPause.Views.vMonitor"
             Title="Monitor de Actividad">

    <Grid BackgroundColor="#F3F4F6">

        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="80" />
        </Grid.RowDefinitions>

        <ScrollView Grid.Row="0">
            <VerticalStackLayout Spacing="0">

                <Grid BackgroundColor="#2563FF" Padding="20">
                    <HorizontalStackLayout Spacing="15">
                        <ImageButton x:Name="btnAtras"
                                     BackgroundColor="Transparent"
                                     Source="regresar_icono.png" 
                                     WidthRequest="24"
                                     HeightRequest="24"
                                     Clicked="btnAtras_Clicked"/>
                        <Label Text="Monitor de Actividad" 
                               TextColor="White" 
                               FontSize="24"
                               VerticalOptions="Center"/>
                    </HorizontalStackLayout>
                </Grid>

                <VerticalStackLayout Padding="20" Spacing="20">

                    <Border Stroke="#BFDBFE"
                            StrokeThickness="1"
                            Background="White"
                            StrokeShape="RoundRectangle 16"
                            Padding="24">

                        <VerticalStackLayout Spacing="20" HorizontalOptions="Center">

                            <Border Stroke="#EBF5FF"
                                    StrokeThickness="1"
                                    Background="#dfeaed"
                                    StrokeShape="RoundRectangle 60"
                                    Padding="30"
                                    WidthRequest="120"
                                    HeightRequest="120"
                                    HorizontalOptions="Center">
                                <Image Source="monitor.png"
                                       Aspect="AspectFit"/>
                            </Border>

                            <VerticalStackLayout Spacing="8" HorizontalOptions="Center">
                                <Label Text="Tiempo sin movimiento" 
                                       TextColor="#6B7280"
                                       FontSize="14"
                                       HorizontalTextAlignment="Center"/>

                                <Label x:Name="lblTiempoSinMovimiento"
                                       Text="0 min"
                                       TextColor="#10B981"
                                       FontSize="48"
                                       HorizontalTextAlignment="Center"/>

                                <Label x:Name="lblMaxTiempo"
                                       Text="de 45 min"
                                       TextColor="#6B7280"
                                       FontSize="14"
                                       HorizontalTextAlignment="Center"/>
                            </VerticalStackLayout>

                            <ProgressBar x:Name="pbProgreso"
                                         Progress="0"
                                         HeightRequest="10"/>

                            <Label x:Name="lblMensajeEstado"
                                   Text="Monitor en funcionamiento"
                                   TextColor="#10B981"
                                   FontSize="16"
                                   HorizontalTextAlignment="Center"/>
                        </VerticalStackLayout>
                    </Border>

                    <Button x:Name="btnPausarIniciarMonitor"
                            Text="Pausar Monitor"
                            BackgroundColor="#F59E0B"
                            TextColor="White"
                            CornerRadius="12"
                            HeightRequest="50"
                            Clicked="btnPausarIniciarMonitor_Clicked"/>

                    <Border Stroke="#E5E7EB"
                            StrokeThickness="1"
                            Background="White"
                            StrokeShape="RoundRectangle 12"
                            Padding="16">

                        <VerticalStackLayout Spacing="12">
                            <Label Text="Estado del Sensor" 
                                   TextColor="#111827"
                                   FontSize="16"/>

                            <Grid RowSpacing="8">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                    <RowDefinition Height="30" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="200" />
                                    <ColumnDefinition Width="120" />
                                </Grid.ColumnDefinitions>

                                <Label Grid.Row="0" Grid.Column="0"
                                       Text="AcelerÃ³metro" 
                                       TextColor="#6B7280"/>

                                <Border Grid.Row="0" Grid.Column="1"
                                        x:Name="frmEstadoSensor"
                                        StrokeThickness="0"
                                        Background="#D1FAE5"
                                        StrokeShape="RoundRectangle 12"
                                        Padding="8,4">
                                    <Label x:Name="lblEstadoSensor"
                                           Text="Activo" 
                                           TextColor="#10B981"
                                           FontSize="12"/>
                                </Border>

                                <Label Grid.Row="1" Grid.Column="0"
                                       Text="DetecciÃ³n" 
                                       TextColor="#6B7280"/>
                                <Label Grid.Row="1" Grid.Column="1"
                                       Text="Continua" 
                                       TextColor="#111827"/>

                                <Label Grid.Row="2" Grid.Column="0"
                                       Text="Ãšltima actividad" 
                                       TextColor="#6B7280"/>
                                <Label Grid.Row="2" Grid.Column="1"
                                       x:Name="lblUltimaActividad"
                                       Text="Hace 0 min" 
                                       TextColor="#111827"/>
                            </Grid>
                        </VerticalStackLayout>
                    </Border>

                    <Button x:Name="btnIniciarPausaActiva"
                            Text="Iniciar Pausa Activa Ahora"
                            BackgroundColor="#A855F7"
                            TextColor="White"
                            CornerRadius="12"
                            HeightRequest="50"
                            IsVisible="False"
                            Clicked="btnIniciarPausaActiva_Clicked"/>

                    <Border Background="#EBF5FF"
                            Stroke="#BFDBFE"
                            StrokeThickness="1"
                            StrokeShape="RoundRectangle 12"
                            Padding="16">
                        <VerticalStackLayout Spacing="8">
                            <Label Text="ðŸ’¡ Consejo" 
                                   TextColor="#1E40AF"
                                   FontSize="16"/>
                            <Label Text="MantÃ©n tu telÃ©fono cerca mientras trabajas para que el sensor pueda detectar tu actividad de manera mÃ¡s precisa." 
                                   TextColor="#1E40AF"
                                   FontSize="14"/>
                        </VerticalStackLayout>
                    </Border>

                </VerticalStackLayout>
            </VerticalStackLayout>
        </ScrollView>

        <!-- MENÃš INFERIOR -->
        <Border Grid.Row="1"
                Background="White"
                Stroke="#E5E7EB"
                StrokeThickness="1">
            <HorizontalStackLayout Padding="20,8"
                                   Spacing="5"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center">

                <Button x:Name="btnMenuInicio"
                        Text="Inicio"
                        FontSize="12"
                        BackgroundColor="Transparent"
                        TextColor="#6B7280"
                        Clicked="btnMenuInicio_Clicked"/>

                <Button x:Name="btnMenuMonitor"
                        Text="Monitor"
                        FontSize="12"
                        BackgroundColor="Transparent"
                        TextColor="#2563FF"
                        Clicked="btnMenuMonitor_Clicked"/>

                <Button x:Name="btnMenuEjercicio"
                        Text="Ejercicios"
                        FontSize="12"
                        BackgroundColor="Transparent"
                        TextColor="#6B7280"
                        Clicked="btnMenuEjercicio_Clicked"/>

                <Button x:Name="btnMenuHistorial"
                        Text="Historial"
                        FontSize="12"
                        BackgroundColor="Transparent"
                        TextColor="#6B7280"
                        Clicked="btnMenuHistorial_Clicked"/>

                <Button x:Name="btnMenuAjustes"
                        Text="Ajustes"
                        FontSize="12"
                        BackgroundColor="Transparent"
                        TextColor="#6B7280"
                        Clicked="btnMenuAjustes_Clicked"/>
            </HorizontalStackLayout>
        </Border>

    </Grid>
</ContentPage>
